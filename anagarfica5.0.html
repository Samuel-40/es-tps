<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Anagrafica Utente</title>
</head>
<body>
  <h2>Inserisci Anagrafica Utente</h2>

  <form id="anagraficaForm">
  
    <label>Nome:
      <input type="text" id="nome" required>
    </label>
    <label>Cognome:
      <input type="text" id="cognome" required>
    </label>
    <br><br>

    <label>Sesso:</label><br>
    <input type="radio" name="sesso" value="maschio">
    <label>maschio</label><br>
    <input type="radio" name="sesso" value="femmina">
    <label>femmina</label><br>
    <input type="radio" name="sesso" value="altro">
    <label>altro</label><br><br>

    <label>Indirizzo:
      <input type="text" id="indirizzo" required>
    </label>

    <input type="checkbox" id="box1" value="auto"> <label>ho un'auto</label>
    <input type="checkbox" id="box2" value="bici"> <label>ho una bici</label>
    <input type="checkbox" id="box3" value="cavallo"> <label>ho un cavallo</label>

    <select name="provincia">
      <option value="milano">Milano</option>
      <option value="torino">Torino</option>
      <option value="napoli">Napoli</option>
    </select>

    <label>Citt√†:
      <input type="text" id="citta" required>
    </label>

    <label>CAP:
      <input type="text" id="cap" required>
    </label>
    <label>Data di nascita:
      <input type="date" id="dataNascita" required>
    </label>

    <button type="button" onclick="calcolaGenerazione()">Invia</button>
  </form>

  <script>
    function calcolaGenerazione() {
      let nome = document.getElementById('nome').value;
      let cognome = document.getElementById('cognome').value;
      let indirizzo = document.getElementById('indirizzo').value;
      let citta = document.getElementById('citta').value;
      let cap = document.getElementById('cap').value;
      let dataNascita = document.getElementById('dataNascita').value;
      let sesso = document.querySelector('input[name="sesso"]:checked');
     

      let mezzo = document.Selector('input[type="checkbox"]:checked');
      let mezziSelezionati = [];
      mezzo.forEach(cb => mezziSelezionati.push(cb.value));

      let provincia = document.Selector('select[name="provincia"]').value;


      let persona = {
        nome: nome,
        cognome: cognome,
        sesso: sesso,
        indirizzo: indirizzo,
        citta: citta,
        cap: cap,
        dataNascita: dataNascita,
        provincia: provincia,
        mezzi: mezziSelezionati
      };

      let anagrafica = JSON.parse(localStorage.getItem("anagrafica"));
      anagrafica.push(persona);
      localStorage.setItem("anagrafica", JSON.stringify(anagrafica));

      window.location.href = "stampa.html";
    }
  </script>
</body>
</html>
