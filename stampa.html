<!DOCTYPE html>
<html>
<head>
<title>localStorage - Stampa Completa</title>
</head>
<body>
<h2>Elenco Completo anagarfica5.0</h2>

<div id="cont"></div>

<script>
let par;
let co = document.getElementById("cont");

// ==== MODIFICA MINIMA: chiave corretta ====
let s = JSON.parse(localStorage.getItem("anagrafica"));

if (s && s.length > 0) {
  for(let i = 0; i < s.length; i++){
    par = document.createElement("p");

    par.textContent = (i+1) + ") " +
      s[i].nome + " " + s[i].cognome + " | " +
      "Città: " + s[i].citta + " (" + s[i].provincia + "), CAP: " + s[i].cap + " | " +
      "Nato il: " + s[i].dataNascita + " | " +  // eta e generazione non presenti
      "Sesso: " + s[i].sesso + " | " +
      "Mezzi: " + (s[i].mezzi && s[i].mezzi.length > 0 ? s[i].mezzi.join(", ") : "Nessuno") + " | " +
      "Materie: " + (s[i].materie && s[i].materie.length > 0 ? s[i].materie.join(", ") : "Nessuna");

    co.appendChild(par);
  }
} else {
  co.innerHTML = "<p>L'elenco è vuoto.</p>";
}
</script>

<br>
<a href="anagarfica5.0.html">Torna all'inserimento</a>
<br><br>
<button onclick="localStorage.clear(); location.reload();">Svuota tutto l'elenco</button>

</body>
</html>

